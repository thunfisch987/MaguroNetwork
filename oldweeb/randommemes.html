<html>
	<head>
		<title>Just A Random Meme</title>
		<meta charset="utf-8" />
		<meta property="og:title" content="RandomMemes by Thun" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://oldweeb.littlebitgay.de/randommemes.html" />
		<meta property="og:site_name" content="RandomMemes by Thun" />
		<meta property="og:description"content="!!! MIGHT BE CURSED !!!" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no"
		/>
		<script
			src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"
			integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
			crossorigin="anonymous"
		></script>
	</head>
	<body style="height: 100vh; padding: 0; margin: 0">
		<button style="color: white; border: none; background-color: #4CAF50; height: 100px; width: 200px; position: fixed; bottom: 0; right: 0" onclick="randomImage()">
			<span style="font-family: Lucida Sans Unicode">&#x21bb;<span>New Image
		</button>
		<img style="display: block; margin-left: auto; margin-right: auto; max-width:100%; max-height:100vh; width: auto; height: auto;" id="meme" alt="Here should be a meme" />
		<script>
			var fileNames = new Array();

			$.ajax({
				url: "memes/",
				success: function (data) {
					$(data)
						.find("td > a")
						.each(function () {
							fileNames.push($(this).attr("href"));
						});
				},
				complete: function (data) {
					fileNames.shift();
					randomImage();
				},
			});

			function randomImage() {
				file =
					"memes/" +
					fileNames[Math.floor(Math.random() * fileNames.length)];
				document.getElementById("meme").src = file;
			}
		</script>
	</body>
</html>
